<div class="main">
    <svg
      (pointerdown)="downHandleGrid($event)"
      (pointermove)="moveHandleGrid($event)"
      (click)="clickHandleGrid($event)"
      (wheel)="wheelHandleGrid($event)"
      width="auto" height="100%"
      #svgGrid>

      <g [attr.transform]="translate()">
        <defs>
          <pattern id="smallGrid" width="10" height="10" patternUnits="userSpaceOnUse">
            <path d="M 10 0 L 0 0 0 10" fill="none" stroke="gray" stroke-width="0.5"/>
          </pattern>
          <pattern id="grid" width="100" height="100" patternUnits="userSpaceOnUse">
            <rect width="100" height="100" fill="url(#smallGrid)"/>
            <path d="M 100 0 L 0 0 0 100" fill="none" stroke="gray" stroke-width="1"/>
          </pattern>
        </defs>

        <ng-container *ngIf="flows$  | async as flow">
          <g *ngFor="let node of flow.nodes" [attr.transform]="'translate('+node.x+','+node.y+')'" class="node">
            <path
              style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
              d="M 63.500003,5.2916677 H -6.6666669e-7 V 37.041667 H 89.958333 V 5.2916677 h -5.29167"
              id="path271" />
            <text x="70" y="9">{{nodeType(node)}}</text>
            <text x="3" y="25" font-size="10px">{{node.name}}</text>
          </g>
        </ng-container>
      </g>
    </svg>
</div>
